---
layout: post
title: 'Arch  Linux: pacman 3.4.0 уже в [testing]'
categories:
- news
tags:
- pacman
status: publish
type: post
published: true
meta:
  _edit_last: '2'
author:
  login: cray
  email: baurthefirst@gmail.com
  display_name: cray
  first_name: ''
  last_name: ''
---
<p><a href="http://projects.archlinux.org/pacman.git/tree/NEWS?id=v3.4.0" target="_blank">NEWS</a></p>
<p>Перевод:</p>
<p>- новая опция "Architecture", которая заставит pacman устанавливать пакеты только указанной архитектуры. Может быть установлена в значение "auto", в этом случае для будет использован вывод команды "uname -m";<br />
- при указании ссылки на зеркало теперь можно использовать переменную "$arch" для автоматического определения корректной архитектуры;<br />
- при установке пакетов с помощью опции -U теперь отслеживаются зависимости, решаются конфликты и заменяются пакеты в случае необходимости (FS#3492, FS#5798);<br />
- теперь можно обновить систему и установить новый пакет с помощью "pacman -Syu &lt;pkg&gt;" (FS#15581);<br />
- новая опция -D/--database для изменения причины установки пакета (FS#12950);<br />
- новые опции вывода --print и --print-format для указания формата вывода информации, для удобства использования в скриптах-обертках (FS#14208);<br />
- при обновлении базы данных репозиториев теперь извлекаются только новые записи;<br />
- теперь показывается "Required by" в выводе -Sii (FS#16244);<br />
- опции -U и -R всегда будут спрашивать подтверждение;<br />
- опция -Qo выполняет информативный запрос 'which' (FS#8798);<br />
- при очистке кэша очищаются все директории, а не только первая;<br />
- cleanupdelta: новая утилита для удаления неиспользуемых дельта пакетов из базы данных репозитория;<br />
- bash completion: переписано с оптимизацией размера и производительности(FS#16630);<br />
- repo-add: регулирует удаление финального пакета из репозитория;<br />
- rankmirrors: переписан на чистом bash (прим.: раньше было написано на python-е);<br />
- vercmp: не ссылается на libalpm, для предотвращения проблем с обновлением;<br />
- makepkg:<br />
- автоматически завершает работу из-за любых ошибок во время пакетирования;<br />
- changelog-и теперь включаются в пакет с помощью указания переменной "changelog";<br />
- перезаписывает pkgver, pkgrel и arch в разделяемых пакетах (FS#15955);<br />
- перепаковка пакета без функции package() теперь устарело;<br />
- более строгая проверка синтаксиса для записей backup и optdepends;<br />
- удаление ненужных символов из файлов теперь настраиваемо;<br />
- новый флаг --pkg для сборки указанных пакетов из разделяемых PKGBUILD-ов (FS#15956);<br />
- функция build() теперь опциональна (FS#15147);<br />
- предупреждает о ссылании на директорию сборки в пакете (FS#14751);<br />
- размещение пакетов исходного кода указывается переменной SRCPKGDEST;<br />
- важное внутренняя переделка тестов ("[" заменено на "[[");<br />
- contrib/pactree: выводит реверсивное дерево зависимостей.</p>
